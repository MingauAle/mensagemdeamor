<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Surpresa Azul Refinada</title>
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Patrick+Hand&display=swap" rel="stylesheet">
<style>
html, body {
  margin:0; padding:0; height:100%; overflow:hidden;
  background:white;
  font-family:'Comic Neue','Patrick Hand',sans-serif;
}

#mensagem {
  position:absolute; top:10px; left:10px;
  font-size:12px; font-weight:bold; z-index:5;
}

#aviso {
  position:absolute;
  font-weight:bold; font-size:12px; color:black;
  cursor:pointer; z-index:10; text-align:center;
  user-select:none; 
  /* movido 2px p/ esquerda e mantendo -3.5px p/ cima */
  transform:translate(calc(-50% + 1.0px), calc(-50% - 3.5px));
  display:flex; flex-direction:column; align-items:center;
  animation:flutuar 0.7s ease-in-out infinite alternate;
}

#aviso span { margin-top:6px; }

@keyframes flutuar {
  0% { transform: translate(calc(-50% + 1.0px), calc(-50% - 3.5px)) scale(1); }
  100% { transform: translate(calc(-50% + 1.0px), calc(-50% - 3.5px)) scale(1.12); }
}

#circle {
  position:absolute; width:0; height:0;
  border-radius:50%; background-color:#74c7f8;
  transform:translate(-50%,-50%); z-index:1;
}

.expand-circle {
  animation:expandCircle 17s forwards cubic-bezier(0.25, 0.1, 0.25, 1);
}

@keyframes expandCircle {
  0%   { width: 0; height: 0; }
  20%  { width: 10vmax; height: 10vmax; }
  40%  { width: 50vmax; height: 50vmax; }
  60%  { width: 120vmax; height: 120vmax; }
  80%  { width: 220vmax; height: 220vmax; }
  100% { width: 300vmax; height: 300vmax; }
}

#mask-layer {
  position:absolute; top:-100px; left:0; width:100%; height:100%; z-index:2;
  background-image:url('https://i.postimg.cc/g0QTKdz8/Picsart-25-08-27-17-36-45-952.png');
  background-repeat:no-repeat; background-position:center top;
  background-size:cover; pointer-events:none;
  animation:ondas 4s linear infinite;
}

@keyframes ondas {
  0% { background-position: center top; }
  50% { background-position: center 4px; }
  100% { background-position: center top; }
}

#texto-grande {
  position:absolute;
  top:65%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:22px;
  font-weight:bold;
  color:white;
  text-align:center;
  max-width:80%;
  z-index:6;
  cursor:pointer;
}

.particle {
  position:absolute; 
  font-size:14px; 
  pointer-events:none; 
  z-index:11; 
  opacity:1;
  animation:explode 1.2s forwards;
  transition: opacity 1.2s, transform 1.2s;
}

@keyframes explode {
  0% { transform:translate(0,0) scale(1); opacity:1; }
  100% { transform:translate(var(--x), var(--y)) scale(0.5); opacity:0; }
}

@media(max-width:500px){
  #aviso { font-size:10px; }
  #texto-grande { font-size:18px; }
}
</style>
</head>
<body>
<div id="mensagem">te amo muito...</div>
<div id="container">
  <div id="aviso">
    clique aqui
    <span>üíñ</span>
  </div>
  <div id="circle"></div>
  <div id="mask-layer"></div>
  <div id="texto-grande">Eu queria ser azul, mas azul n√£o posso ser. Pois azul √© c√©u e mar e eu s√≥ quero ser seu azul, beb√™.</div>
</div>

<script>
const aviso = document.getElementById('aviso');
const circle = document.getElementById('circle');
const texto = document.getElementById('texto-grande');

function posicionarAviso() {
  const rect = texto.getBoundingClientRect();
  aviso.style.left = `${rect.left + rect.width/2}px`;
  aviso.style.top = `${rect.top + rect.height/2}px`;
}
window.addEventListener('load', posicionarAviso);
window.addEventListener('resize', posicionarAviso);

// Part√≠culas aviso
function criarParticulas(aviso){
  for(let i=0;i<20;i++){
    const particle=document.createElement('div');
    particle.className='particle';
    particle.textContent = 'üíñ';
    const angle=Math.random()*2*Math.PI;
    const distance=40+Math.random()*30;
    particle.style.setProperty('--x',`${Math.cos(angle)*distance}px`);
    particle.style.setProperty('--y',`${Math.sin(angle)*distance}px`);
    const rect = aviso.getBoundingClientRect();
    // movidas 2px p/ esquerda e 1px p/ cima
    particle.style.left = `${rect.width/2 - 11.1}px`;
    particle.style.top = `${rect.height/2 - 2.5}px`;
    aviso.appendChild(particle);
    particle.addEventListener('animationend',()=>particle.remove());
  }
}

// M√∫sica
const bgm = document.createElement('audio');
bgm.id = 'bgm';
bgm.src = 'minhafelicidade.mp3';
bgm.loop = true;
bgm.preload = 'auto';
bgm.playsInline = true;
bgm.style.display = 'none';
document.body.appendChild(bgm);

aviso.addEventListener('click', ()=>{
  criarParticulas(aviso);
  setTimeout(()=>{aviso.style.display='none';},150);

  const rect = texto.getBoundingClientRect();
  const centerX = rect.left + rect.width/2;
  const centerY = rect.top + rect.height/2;
  circle.style.left = `${centerX}px`;
  circle.style.top = `${centerY}px`;

  circle.classList.add('expand-circle');

  const p = bgm.play();
  if (p && typeof p.then === 'function') {
    p.catch(()=>{});
  }
});

// Anima√ß√£o texto
let start = null;
function animarTexto(timestamp){
  if(!start) start = timestamp;
  const progress = (timestamp - start)/8000;

  const waveAmplitude = 6;
  const y = Math.sin(progress * 2 * Math.PI) * waveAmplitude;

  const boiarAmplitude = 2;
  const rotAmplitude = 1.5;
  const x = Math.sin(progress * 1.5 * Math.PI) * boiarAmplitude;
  const rot = Math.sin(progress * 1.5 * Math.PI) * rotAmplitude;

  texto.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) rotate(${rot}deg)`;
  requestAnimationFrame(animarTexto);
}
requestAnimationFrame(animarTexto);
</script>
</body>
</html>
